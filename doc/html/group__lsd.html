<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wflash - WiFi bootloader for Genesis/Megadrive: lsd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wflash - WiFi bootloader for Genesis/Megadrive
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lsd</div>  </div>
</div><!--header-->
<div class="contents">

<p>Local Symmetric Data-link. Implements an extremely simple protocol to link two full-duplex devices, multiplexing the data link.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ReturnCodes"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ReturnCodes.html">ReturnCodes</a></td></tr>
<tr class="memdesc:group__ReturnCodes"><td class="mdescLeft">&#160;</td><td class="mdescRight">OK/Error codes returned by several functions. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga22dc2025e3f6729065b58dfc2936afdd"><td class="memItemLeft" align="right" valign="top"><a id="ga22dc2025e3f6729065b58dfc2936afdd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga22dc2025e3f6729065b58dfc2936afdd">LSD_OVERHEAD</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ga22dc2025e3f6729065b58dfc2936afdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">LSD frame overhead in bytes. <br /></td></tr>
<tr class="separator:ga22dc2025e3f6729065b58dfc2936afdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3587187aa0bdcc00de004e0ff6569b0"><td class="memItemLeft" align="right" valign="top"><a id="gaf3587187aa0bdcc00de004e0ff6569b0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gaf3587187aa0bdcc00de004e0ff6569b0">LSD_UART</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gaf3587187aa0bdcc00de004e0ff6569b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uart used for LSD. <br /></td></tr>
<tr class="separator:gaf3587187aa0bdcc00de004e0ff6569b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf78a287390f927e5e663a5ae7dc8d0e1"><td class="memItemLeft" align="right" valign="top"><a id="gaf78a287390f927e5e663a5ae7dc8d0e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gaf78a287390f927e5e663a5ae7dc8d0e1">LSD_STX_ETX</a>&#160;&#160;&#160;0x7E</td></tr>
<tr class="memdesc:gaf78a287390f927e5e663a5ae7dc8d0e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start/end of transmission character. <br /></td></tr>
<tr class="separator:gaf78a287390f927e5e663a5ae7dc8d0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00159ab2e993b080cc9952d068aceae1"><td class="memItemLeft" align="right" valign="top"><a id="ga00159ab2e993b080cc9952d068aceae1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga00159ab2e993b080cc9952d068aceae1">LSD_MAX_CH</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ga00159ab2e993b080cc9952d068aceae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of available simultaneous channels. <br /></td></tr>
<tr class="separator:ga00159ab2e993b080cc9952d068aceae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3138e6aad3d0bcd8c37671abff5519c1"><td class="memItemLeft" align="right" valign="top"><a id="ga3138e6aad3d0bcd8c37671abff5519c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga3138e6aad3d0bcd8c37671abff5519c1">LSD_RECV_PRIO</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga3138e6aad3d0bcd8c37671abff5519c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive task priority. <br /></td></tr>
<tr class="separator:ga3138e6aad3d0bcd8c37671abff5519c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7eea1be850b4c29aa67e745bce4301d"><td class="memItemLeft" align="right" valign="top"><a id="gac7eea1be850b4c29aa67e745bce4301d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gac7eea1be850b4c29aa67e745bce4301d">LSD_MAX_LEN</a>&#160;&#160;&#160;4095</td></tr>
<tr class="memdesc:gac7eea1be850b4c29aa67e745bce4301d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum data payload length. <br /></td></tr>
<tr class="separator:gac7eea1be850b4c29aa67e745bce4301d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga495d109abce637982bbac48e0eea3e21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga495d109abce637982bbac48e0eea3e21">LsdInit</a> (void)</td></tr>
<tr class="separator:ga495d109abce637982bbac48e0eea3e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga980cf493c66391dda78a4fb1f33d1b4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga980cf493c66391dda78a4fb1f33d1b4b">LsdChEnable</a> (uint8_t ch)</td></tr>
<tr class="separator:ga980cf493c66391dda78a4fb1f33d1b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf70b638282f2d180276b974ba492ccf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gaf70b638282f2d180276b974ba492ccf9">LsdChDisable</a> (uint8_t ch)</td></tr>
<tr class="separator:gaf70b638282f2d180276b974ba492ccf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad96c1836f0f93af4bf40e0375b3c9f4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gad96c1836f0f93af4bf40e0375b3c9f4f">LsdSend</a> (uint8_t *data, uint16_t len, uint8_t ch, uint32_t maxLoopCnt)</td></tr>
<tr class="separator:gad96c1836f0f93af4bf40e0375b3c9f4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5703ded49d71ab29b8f417bef9d27b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gad5703ded49d71ab29b8f417bef9d27b5">LsdSplitStart</a> (uint8_t *data, uint16_t len, uint16_t total, uint8_t ch, uint32_t maxLoopCnt)</td></tr>
<tr class="separator:gad5703ded49d71ab29b8f417bef9d27b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaabd8804dc359f72a23897e7eeb46d067"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#gaabd8804dc359f72a23897e7eeb46d067">LsdSplitNext</a> (uint8_t *data, uint16_t len, uint32_t maxLoopCnt)</td></tr>
<tr class="separator:gaabd8804dc359f72a23897e7eeb46d067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9147e8271c15d8ec2f3ee45190a0f35a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga9147e8271c15d8ec2f3ee45190a0f35a">LsdSplitEnd</a> (uint8_t *data, uint16_t len, uint32_t maxLoopCnt)</td></tr>
<tr class="separator:ga9147e8271c15d8ec2f3ee45190a0f35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ad76bd9864020b263cba5eec8f90ea2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lsd.html#ga9ad76bd9864020b263cba5eec8f90ea2">LsdRecv</a> (uint8_t *buf, uint16_t *maxLen, uint32_t maxLoopCnt)</td></tr>
<tr class="separator:ga9ad76bd9864020b263cba5eec8f90ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Local Symmetric Data-link. Implements an extremely simple protocol to link two full-duplex devices, multiplexing the data link. </p>
<dl class="section author"><dt>Author</dt><dd>Jesus Alonso (doragasu) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016 </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd><p class="startdd">Implement UART RTS/CTS handshaking. </p>
<p>Current implementation uses polling. Unfortunately as the Genesis/ Megadrive does not have an interrupt pin on the cart, implementing more efficient data transmission techniques will be tricky. </p>
<p>Proper implementation of error handling.</p>
<pre class="fragment"></pre></dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaf70b638282f2d180276b974ba492ccf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf70b638282f2d180276b974ba492ccf9">&#9670;&nbsp;</a></span>LsdChDisable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdChDisable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables a channel to stop reception and prohibit sending data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>Channel number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an empty TX buffer, or NULL if no buffer is available. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00104">104</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="ga980cf493c66391dda78a4fb1f33d1b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga980cf493c66391dda78a4fb1f33d1b4b">&#9670;&nbsp;</a></span>LsdChEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdChEnable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables a channel to start reception and be able to send data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>Channel number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an empty TX buffer, or NULL if no buffer is available. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00089">89</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="ga495d109abce637982bbac48e0eea3e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga495d109abce637982bbac48e0eea3e21">&#9670;&nbsp;</a></span>LsdInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LsdInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Module initialization. Call this function before any other one in this module. </p>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00070">70</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="ga9ad76bd9864020b263cba5eec8f90ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ad76bd9864020b263cba5eec8f90ea2">&#9670;&nbsp;</a></span>LsdRecv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdRecv </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>maxLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxLoopCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receives a frame using LSD protocol.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Buffer that will hold the received data. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">maxLen</td><td>When calling the function, the variable pointed by maxLen, must hold the maximum number of bytes buf can store. On return, the variable is updated to the number of bytes received. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLoopCnt</td><td>Maximum number of loops trying to read data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>On success, the number of the channel in which data has been received. On failure, a negative number. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00256">256</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="gad96c1836f0f93af4bf40e0375b3c9f4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad96c1836f0f93af4bf40e0375b3c9f4f">&#9670;&nbsp;</a></span>LsdSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdSend </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxLoopCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends data through a previously enabled channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>Channel number to use. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLoopCnt</td><td>Maximum number of loops trying to write data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error, or the number of characterse sent otherwise. Note returned value might be 0 if no characters were sent due to maxLoopCnt value reached (timeout).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>maxLoopCnt value is only used for the wait before starting sending the frame header. For sending the data payload and the ETX, UINT32_MAX value is used for loop counts. If tighter control of the timing is necessary, frame must be sent using split functions. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00131">131</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="ga9147e8271c15d8ec2f3ee45190a0f35a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9147e8271c15d8ec2f3ee45190a0f35a">&#9670;&nbsp;</a></span>LsdSplitEnd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdSplitEnd </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxLoopCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends (sends) additional data to a frame previously started by an <a class="el" href="group__lsd.html#gad5703ded49d71ab29b8f417bef9d27b5">LsdSplitStart()</a> call, and finally ends the frame.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the data buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLoopCnt</td><td>Maximum number of loops trying to write data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error, or the number of characterse sent otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00227">227</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="gaabd8804dc359f72a23897e7eeb46d067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaabd8804dc359f72a23897e7eeb46d067">&#9670;&nbsp;</a></span>LsdSplitNext()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdSplitNext </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxLoopCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends (sends) additional data to a frame previously started by an <a class="el" href="group__lsd.html#gad5703ded49d71ab29b8f417bef9d27b5">LsdSplitStart()</a> call.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the data buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLoopCnt</td><td>Maximum number of loops trying to write data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error, or the number of characterse sent otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00210">210</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
<a id="gad5703ded49d71ab29b8f417bef9d27b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5703ded49d71ab29b8f417bef9d27b5">&#9670;&nbsp;</a></span>LsdSplitStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LsdSplitStart </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>total</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxLoopCnt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts sending data through a previously enabled channel. Once started, you can send more additional data inside of the frame by issuing as many <a class="el" href="group__lsd.html#gaabd8804dc359f72a23897e7eeb46d067">LsdSplitNext()</a> calls as needed, and end the frame by calling <a class="el" href="group__lsd.html#ga9147e8271c15d8ec2f3ee45190a0f35a">LsdSplitEnd()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Length of the data buffer to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">total</td><td>Total length of the data to send using a split frame. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ch</td><td>Channel number to use for sending. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxLoopCnt</td><td>Maximum number of loops trying to write data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if there was an error, or the number of characterse sent otherwise.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>maxLoopCnt is only used for the wait before starting sending the frame header. Optional data field is sent using UINT32_MAX as loop count. </dd></dl>

<p class="definition">Definition at line <a class="el" href="lsd_8c_source.html#l00180">180</a> of file <a class="el" href="lsd_8c_source.html">lsd.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
